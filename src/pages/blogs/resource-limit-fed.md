---
title: 前端资源占用
date: 2022-06-11
tags: 前端
meta:
  - name: description
    content: 你有关心过自己应用的内存占用吗？
---

前端开发人员似乎很少关注到自己所使用的资源多少。

第一，网站归根结底是一个沙盒，无法直接调用系统资源，所有一切都必须通过浏览器的调动才可以实现，这样也就不会出多大的事，撑死也就是页面崩溃，从来没有听说一个网站可以把系统搞崩溃（如果有这样的情况发生，那一定是浏览器的 bug 😂）。

第二，前端开发的很大一部分工作内容数据量一般都不大，列表的话一般有分页，内存占用一般情况下都不会很高，即使发生了内存未释放的情况，以现代设备的硬件配置来看用户也无法感知到。另外，刷新或者页面跳转后泄漏的资源也就被释放掉了，用户一般不会持续操作一个页面太长时间。

第三，网站是运行在用户端的，每个用户端都有自己的资源，如果把这些资源加在一起可是相当巨大的。而反观服务器端，一般只有一台或者几台机器，所能使用的内存容量是有限的（就算再弹性扩容，那也是有成本的），想象一下，有一个接口出现了内存泄漏，然后有100万个用户调用了这个接口，内存泄漏也就被放大了100万倍，这也就是后端开发人员比较注重资源使用情况的原因之一。

但是，关注资源使用情况，是一个程序员必备的素养，不能因为发生的概率小或者产生的后果不严重就不在意。当开发在线编辑器或者三维可视化这种资源占用比较高的程序时，就更要关注资源使用尤其是内存占用情况了。

其实每个优秀的库或者框架都是有考虑到资源释放的，像 echarts 有 dispose 方法，cesium 有 viewer.destroy，这些都是用来释放资源的；像 vue 有 onUnmounted 生命周期，这是给你一个释放资源的时机的。

但是，你不写，它就相当于没有啊🙂，你不调用，人家怎么知道你要释放？

即使在设备硬件日益内强大的今天，手机运存已经动辄32G的今天，内存资源依然是相当宝贵的。
